[{"/usr/src/app/src/index.tsx":"1","/usr/src/app/src/App.tsx":"2","/usr/src/app/src/pages/index.tsx":"3"},{"size":150,"mtime":1647348292156,"results":"4","hashOfConfig":"5"},{"size":158,"mtime":1647348292156,"results":"6","hashOfConfig":"5"},{"size":1515,"mtime":1647348292157,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"15clkd0",{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},"/usr/src/app/src/index.tsx",[],[],"/usr/src/app/src/App.tsx",[],[],"/usr/src/app/src/pages/index.tsx",["18"],[],"import { useEffect, useState } from 'react';\n\nconst MainPage = (): JSX.Element => {\n\tconst { ethereum } = window as any;\n\tconst [accountAddress, setAccountAddress] = useState(null);\n\tconst [isConnected, setIsConnected] = useState(false);\n\n\tuseEffect(() => {\n\t\tif(localStorage.getItem('connected_account')) {\n\t\t\tethereum.request({ method: 'eth_requestAccounts' }).then((res: any) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tif(localStorage.getItem('connected_account') !== res[0]) {\n\t\t\t\t\tsetIsConnected(true);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tsetAccountAddress(localStorage.getItem('connected_account') as any);\n\t\t\t});\n\t\t}\n\t}, []);\n\n\tif(!accountAddress) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<button className='authentication__authenticate' onClick={async () => {\n\t\t\t\t\tethereum.request({ method: 'eth_requestAccounts' }).then((res: any) => {\n\t\t\t\t\t\tethereum.request({ method: 'personal_sign', from: res[0], params: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tname: 'Message',\n\t\t\t\t\t\t\t\t\tvalue: 'Подтвердите подписание'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tres[0]\n\t\t\t\t\t\t] }).then((result: any) => {\n\t\t\t\t\t\t\tsetAccountAddress(res[0]);\n\t\t\t\t\t\t\tlocalStorage.setItem('connected_account', res[0]);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}}>\n\t\n\t\t\t\t</button>\n\t\t\t\t{isConnected && (\n\t\t\t\t\t<p className='authentication__warning'>\n\t\t\t\t\t\tYour MetaMask account is different from the one you authenticated with before\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t}\n\telse {\n\t\treturn (\n\t\t\t<p className='account__address'>\n\t\t\t\t{accountAddress}\n\t\t\t</p>\n\t\t);\n\t}\n};\n\nexport default MainPage;\n",{"ruleId":"19","severity":1,"message":"20","line":19,"column":5,"nodeType":"21","endLine":19,"endColumn":7,"suggestions":"22"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'ethereum'. Either include it or remove the dependency array.","ArrayExpression",["23"],{"desc":"24","fix":"25"},"Update the dependencies array to be: [ethereum]",{"range":"26","text":"27"},[600,602],"[ethereum]"]